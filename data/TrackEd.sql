CREATE DATABASE IF NOT EXISTS TrackEd;
USE TrackEd;

CREATE TABLE MaxMarks(
Exam VARCHAR(10) NOT NULL,
Sub VARCHAR(10) NOT NULL,
MaxMarks INT NOT NULL
);

CREATE TABLE Teachers(
TID INT AUTO_INCREMENT PRIMARY KEY,
TName VARCHAR(20) NOT NULL,
Hashed_PW VARBINARY(60) NOT NULL
);

CREATE TABLE Class(
Class VARCHAR(5) PRIMARY KEY,
CTID INT,
FOREIGN KEY(CTID) REFERENCES Teachers(TID) ON DELETE SET NULL
);

CREATE TABLE Students(
Std_GRNo INT PRIMARY KEY,
Std_Name VARCHAR(20) NOT NULL,
Std_Father VARCHAR(20) NOT NULL,
Std_Mother VARCHAR(20) NOT NULL,
Std_DOB DATE NOT NULL,
Std_Class VARCHAR(5),
Std_RollNo INT NOT NULL,
Std_Stream Varchar(10),
FOREIGN KEY(Std_Class) REFERENCES Class(Class) ON DELETE SET NULL
);

CREATE TABLE Marks(
GRNo INT,
English INT,
Physics INT,
Chemistry INT,
Maths INT,
Biology INT,
Marketing INT,
Accounts INT,
Business INT,
Economics INT,
P_Ed INT,
C_Sc INT,
I_P INT,
Arabic INT,
Urdu INT,
FOREIGN KEY (GRNo) REFERENCES Students(Std_GRNo) ON DELETE SET NULL
);

CREATE TABLE Adm(
Username VARCHAR(20) PRIMARY KEY,
Hashed_PW VARBINARY(60) NOT NULL
);
